import org.apache.tools.ant.filters.ReplaceTokens

plugins {
    id "com.github.hierynomus.license" version "0.15.0"
    id "com.xebialabs.xldp" version "1.0.5"
}

version="0.0.1-RC3"

sourceCompatibility = 1.8
targetCompatibility = 1.8
def apiVersion = '2019.3.4'

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'eclipse'
apply plugin: 'maven'

repositories {
    mavenCentral()
    maven {
        url 'https://dist.xebialabs.com/public/maven2'
    }
}

dependencies {
    compile "com.xebialabs.deployit:udm-plugin-api:$apiVersion"
}

processResources.configure {
  filter ReplaceTokens, tokens: [
    'project.version': version.toString(),
    'project.name': rootProject.name
  ]
}

license {
    ext.year = Calendar.getInstance().get(Calendar.YEAR)
    header rootProject.file('src/main/license/license_header.txt')
    strictCheck true
}



