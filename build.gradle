import org.apache.tools.ant.filters.ReplaceTokens

plugins {
    id "com.github.hierynomus.license" version "0.15.0"
    id "com.xebialabs.xldp" version "1.0.5"
}

version="0.0.1-RC3"

sourceCompatibility = 1.8
targetCompatibility = 1.8
def apiVersion = '2019.3.4'

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'eclipse'
apply plugin: 'maven'

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url 'https://dist.xebialabs.com/public/maven2'
    }
}

dependencies {
    compile "com.xebialabs.deployit:udm-plugin-api:$apiVersion"
    compile "com.xebialabs.deployit:engine-api:$apiVersion"
    compile "com.rabobank.argos:argos4j:0.0.1-RC3"
    
    compile "org.projectlombok:lombok:1.18.12"
    annotationProcessor 'org.projectlombok:lombok:1.18.12'
    
    testCompile "org.mockito:mockito-junit-jupiter:3.1.0"
    
    distBundle "com.rabobank.argos:argos4j:0.0.1-RC3"
    
}

processResources.configure {
  filter ReplaceTokens, tokens: [
    'project.version': version.toString(),
    'project.name': rootProject.name
  ]
}

license {
    ext.year = Calendar.getInstance().get(Calendar.YEAR)
    header rootProject.file('src/main/license/license_header.txt')
    strictCheck true
}



